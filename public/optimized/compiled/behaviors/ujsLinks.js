(function(){define(["jquery"],function(a){var b,c;return c=function(b){var c,d,e,f,g;return b.data("handled",!0),d=b.attr("href"),f=b.data("method"),g=b.attr("target"),c=a("<form method='post' action='"+d+"'></form>"),e="<input name='_method' value='"+f+"' type='hidden' />",ENV.AUTHENTICITY_TOKEN&&(e+="<input name='authenticity_token' value='"+ENV.AUTHENTICITY_TOKEN+"' type='hidden' />"),g&&c.attr("target",g),c.hide().append(e).appendTo("body").submit()},b=function(a){var b;return b=a.data("confirm"),b?confirm(b):!0},a(document).delegate("a[data-confirm], a[data-method]","click",function(d){var e;e=a(this);if(e.data("handled"))return!1;if(!b(e))return!1;if(e.data("method"))return c(e),!1})})}).call(this)