(function(){var j=function(i,e){return function(){return i.apply(e,arguments)}};I18n.scoped("AssignmentMuter",function(i){return this.AssignmentMuter=function(){function e(d,h,a){this.$link=d;this.assignment=h;this.url=a;this.confirmUnmute=j(this.confirmUnmute,this);this.afterUpdate=j(this.afterUpdate,this);this.showDialog=j(this.showDialog,this);this.updateLink=j(this.updateLink,this);this.$link=$(this.$link);this.updateLink();this.$link.click(j(function(f){f.preventDefault();return this.assignment.muted?
this.confirmUnmute():this.showDialog()},this))}e.prototype.updateLink=function(){return this.$link.text(this.assignment.muted?i.t("unmute_assignment","Unmute Assignment"):i.t("mute_assignment","Mute Assignment"))};e.prototype.showDialog=function(){return this.$dialog=$(Template("mute_dialog")).dialog({buttons:[{text:i.t("mute_assignment","Mute Assignment"),"data-text-while-loading":i.t("muting_assignment","Muting Assignment..."),click:j(function(){return this.$dialog.disableWhileLoading($.ajaxJSON(this.url,
"put",{status:true},this.afterUpdate))},this)}],close:j(function(){return this.$dialog.remove()},this),resizable:false,width:400})};e.prototype.afterUpdate=function(d){this.assignment.muted=d.assignment.muted;this.updateLink();this.$dialog.dialog("close");return $.publish("assignment_muting_toggled",[this.assignment])};e.prototype.confirmUnmute=function(){return this.$dialog=$("<div />").text(i.t("unmute_dialog","This assignment is currently muted. That means students can't see their grades and feedback. Would you like to unmute now?")).dialog({buttons:[{text:i.t("unmute_button",
"Unmute Assignment"),"data-text-while-loading":i.t("unmuting_assignment","Unmuting Assignment..."),click:j(function(){return this.$dialog.disableWhileLoading($.ajaxJSON(this.url,"put",{status:false},this.afterUpdate))},this)}],close:j(function(){return this.$dialog.remove()},this),resizable:false,title:i.t("unmute_assignment","Unmute Assignment"),width:400})};return e}()})}).call(this);
(function(){var j=Handlebars.template,i=Handlebars.templates=Handlebars.templates||{};i.mute_dialog=j(function(e,d,h){h=h||e.helpers;e="";var a,f,g,b,c,k=h.helperMissing;e+='<div title="';a="Mute Assignment";f="mute_assignment";g={};g.scope="mute_dialog";b=h.t||d.t;c={};c.hash=g;if((a=typeof b==="function"?b.call(d,f,a,c):b===void 0?k.call(d,"t",f,a,c):b)||a===0)e+=a;e+='">\n  <p>\n    ';a="Are you sure you want to mute this assignment? While this assignment is muted, students will not receive new notifications about or be able to see:";
f="sure_you_want_to_mute";g={};g.scope="mute_dialog";b=h.t||d.t;c={};c.hash=g;if((a=typeof b==="function"?b.call(d,f,a,c):b===void 0?k.call(d,"t",f,a,c):b)||a===0)e+=a;e+="\n  </p>\n  <ul>\n    <li>";a="Their grade for the assignment";f="see_grade";g={};g.scope="mute_dialog";b=h.t||d.t;c={};c.hash=g;if((a=typeof b==="function"?b.call(d,f,a,c):b===void 0?k.call(d,"t",f,a,c):b)||a===0)e+=a;e+="</li>\n    <li>";a="Grade change notifications";f="grade_change_notifications";g={};g.scope="mute_dialog";
b=h.t||d.t;c={};c.hash=g;if((a=typeof b==="function"?b.call(d,f,a,c):b===void 0?k.call(d,"t",f,a,c):b)||a===0)e+=a;e+="</li>\n    <li>";a="Submission comments";f="submission_comments";g={};g.scope="mute_dialog";b=h.t||d.t;c={};c.hash=g;if((a=typeof b==="function"?b.call(d,f,a,c):b===void 0?k.call(d,"t",f,a,c):b)||a===0)e+=a;e+="</li>\n    <li>";a="Curving assignments";f="curving_assignments";g={};g.scope="mute_dialog";b=h.t||d.t;c={};c.hash=g;if((a=typeof b==="function"?b.call(d,f,a,c):b===void 0?
k.call(d,"t",f,a,c):b)||a===0)e+=a;e+="</li>\n    <li>";a="Score change notifications";f="score_change_notifications";g={};g.scope="mute_dialog";b=h.t||d.t;c={};c.hash=g;if((a=typeof b==="function"?b.call(d,f,a,c):b===void 0?k.call(d,"t",f,a,c):b)||a===0)e+=a;e+="</li>\n  </ul>\n  <p>\n    ";a="Students will be able to see that this assignment is muted.";f="students_will_see";g={};g.scope="mute_dialog";b=h.t||d.t;c={};c.hash=g;if((a=typeof b==="function"?b.call(d,f,a,c):b===void 0?k.call(d,"t",f,
a,c):b)||a===0)e+=a;e+="\n  </p>\n  <p>\n    ";a='Once you have muted this assignment, you can begin sending notifications again by clicking the "Unmute Assignment" link.';f="how_to_unmute";g={};g.scope="mute_dialog";b=h.t||d.t;c={};c.hash=g;if((a=typeof b==="function"?b.call(d,f,a,c):b===void 0?k.call(d,"t",f,a,c):b)||a===0)e+=a;e+="\n  </p>\n</div>\n";return e});define("jst/mute_dialog",["compiled/handlebars_helpers"],function(){return i.mute_dialog})})();
