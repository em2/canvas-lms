I18n.scoped("content_imports",function(d){$(function(){function l(b){m.text(typeof b!="undefined"?b:".zip");c.val("1");h.show()}function n(){i.show()}function o(){e.find("#migration_config > div").hide();c.val("0");h.hide();p.val("");f.attr("disabled",true);i.hide();q.removeAttr("checked");j.find(".migration_config").ifExists(function(){$plugin_mother=k.find($(this).data("mother_id"));$plugin_mother.append($(this));$plugin_mother.triggerHandler("pluginHidden",[a,g]);($alt_config=g.find(".migration_alt_config"))&&
$plugin_mother.append($alt_config)})}var e=$("#config_options"),c=$("#export_file_enabled"),a=$("#migration_form"),f=a.find(".submit_button"),h=a.find("#file_upload"),m=a.find("#upload_extension"),p=a.find("#export_file_input"),j=a.find("#migration_config"),k=$("#migration_configs"),g=$("#migration_alt_div"),i=$("#overwrite_questions_config"),q=$("#overwrite_questions");$("#choose_migration_system").change(function(){o();if($(this).val()=="none")e.hide();else{plugin_config_id="#plugin_"+$(this).val();
$plugin_mother_div=k.find(plugin_config_id);$plugin_config=$plugin_mother_div.find(".migration_config");$plugin_config.data("mother_id",plugin_config_id);j.append($plugin_config);if($plugin_alt_config=$plugin_mother_div.find(".migration_alt_config")){$plugin_alt_config.data("mother_id",plugin_config_id);g.append($plugin_alt_config)}e.show();$plugin_mother_div.triggerHandler("pluginShown",[l,a,n])}}).change();$("#import_subset").change(function(){$("#import_subset_options").showIf($(this).attr("checked"))}).change();
$("#export_file_input").change(function(){if($(this).val().match(/\.zip$|\.imscc$/i)){f.attr("disabled",false);$(".zip_error").hide()}else{f.attr("disabled",true);$(".zip_error").show()}});$("#migration_form").formSubmit({fileUpload:function(){return c.val()=="1"},fileUploadOptions:{preparedFileUpload:true,singleFile:true,object_name:"migration_settings",context_code:$("#current_context_code").text(),upload_only:true,uploadDataUrl:a.attr("action"),postFormData:true},processData:function(b){if(c.val()!=
"1")b.export_file=null;return b},beforeSubmit:function(){c.val()=="1"&&$(this).find(".submit_button").attr("disabled",true).text(d.t("messages.uploading","Uploading Course Export..."))},success:function(){$(this).find(".submit_button").attr("disabled",false).text(d.t("buttons.import","Import Course"));$(this).slideUp();$("#file_uploaded").slideDown()},error:function(b){c.val()=="1"&&$(this).find(".submit_button").attr("disabled",false).text(d.t("errors.upload_failed","Upload Failed, please try again"));
$(this).formErrors(b)}})})});$.extend(true,I18n=I18n||{},{translations:{es:{content_imports:{buttons:{"import":"Importar el Curso"},messages:{uploading:"Cargando la Exportaci\u00f3n del Curso..."},errors:{upload_failed:"La carga fall\u00f3 , intente de nuevo"}}}}});
