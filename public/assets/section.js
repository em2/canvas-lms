I18n.scoped("section",function(e){$(document).ready(function(){var b=$("#edit_section_form"),h=$(".edit_section_link");b.formSubmit({beforeSubmit:function(a){b.hide();b.find(".name").text(a["course_section[name]"]).show();b.loadingImage({image_size:"small"})},success:function(a){a=a.course_section;b.loadingImage("remove");$("#section_name").text(a.name);$("span.sis_source_id").text(a.sis_source_id||"")},error:function(a){b.loadingImage("remove");b.show();b.formErrors(a)}}).find(":text").keycodes("return esc",
function(a){if(a.keyString=="return")b.submit();else{$(this).parents(".section").find(".name").show();b.hide()}}).end().find(".cancel_button").click(function(){b.hide()});h.click(function(a){a.preventDefault();b.toggle();$("#edit_section_form :text:visible:first").focus().select()});$(".unenroll_user_link").click(function(a){a.preventDefault();$(this).parents(".user").confirmDelete({message:e.t("confirms.delete_enrollment","Are you sure you want to delete this enrollment permanently?"),url:$(this).attr("href"),
success:function(){$(this).slideUp(function(){$(this).remove()})}})});$(".datetime_field").datetime_field();$(".uncrosslist_link").click(function(a){a.preventDefault();$("#uncrosslist_form").dialog("close").dialog({autoOpen:false,width:400}).dialog("open")});$("#uncrosslist_form .cancel_button").click(function(){$("#uncrosslist_form").dialog("close")}).submit(function(){$(this).find("button").attr("disabled",true).filter(".submit_button").text(e.t("status.removing_crosslisting_of_section","De-Cross-Listing Section..."))});
$(".crosslist_link").click(function(a){a.preventDefault();$("#crosslist_course_form").dialog("close").dialog({autoOpen:false,width:450}).dialog("open");$("#crosslist_course_form .submit_button").attr("disabled",true);$("#course_autocomplete_id_lookup").val("");$("#course_id").val("").change()});$("#course_autocomplete_id_lookup").autocomplete({source:$("#course_autocomplete_url").attr("href"),select:function(a,c){$("#course_id").val("");$("#crosslist_course_form").triggerHandler("id_entered",c.item)}});
$("#course_id").keycodes("return",function(a){a.preventDefault();$(this).change()});$("#course_id").bind("change",function(){$("#course_autocomplete_id_lookup").val("");$("#crosslist_course_form").triggerHandler("id_entered",{id:$(this).val()})});$("#crosslist_course_form .cancel_button").click(function(){$("#crosslist_course_form").dialog("close")});var f=null;$("#crosslist_course_form").bind("id_entered",function(a,c){if(c.id!=f){$("#crosslist_course_form .submit_button").attr("disabled",true);
$("#course_autocomplete_id").val("");if(c.id){c.name=c.name||e.t("default_course_name",'Course ID "%{course_id}"',{course_id:c.id});$("#course_autocomplete_name_holder").show();$("#course_autocomplete_name").text(e.t("status.confirming_course","Confirming %{course_name}...",{course_name:c.name}));$("#sis_id_holder,#account_name_holder").hide();$("#course_autocomplete_account_name").hide();var i=$.replaceTags($("#course_confirm_crosslist_url").attr("href"),"id",c.id);var j=f=c.id;$.ajaxJSON(i,"GET",
{},function(d){if(j==f)if(d&&d.allowed){var g={sis_id:d.course&&d.course.sis_source_id,account_name:d.account&&d.account.name};$("#course_autocomplete_name_holder").fillTemplateData({data:g});$("#course_autocomplete_name").text(d.course.name);$("#sis_id_holder").showIf(g.sis_id);$("#account_name_holder").showIf(g.account_name);$("#course_autocomplete_id").val(d.course.id);$("#crosslist_course_form .submit_button").attr("disabled",false)}else{$("#course_autocomplete_name").text(e.t("errors.course_not_authorized_for_crosslist",
"%{course_name} not authorized for cross-listing",{course_name:c.name}));$("#sis_id_holder,#account_name_holder").hide()}},function(){$("#course_autocomplete_name").text(e.t("errors.confirmation_failed","Confirmation Failed"))})}else{$("#sis_id_holder,#account_name_holder").hide();$("#course_autocomplete_name").text("")}}})})});
$.extend(true,I18n=I18n||{},{translations:{es:{section:{confirms:{delete_enrollment:"\u00bfSeguro que quiere borrar esta inscripci\u00f3n permanentemente?"},errors:{course_not_authorized_for_crosslist:"%{course_name} no autorizado para listado cruzado",confirmation_failed:"La Confirmaci\u00f3n Fall\u00f3"},default_course_name:'ID del Curso "%{course_id}"',status:{removing_crosslisting_of_section:"Secci\u00f3n de remoci\u00f3n del listado cruzado...",confirming_course:"Confirmando %{course_name}..."}}}}});
