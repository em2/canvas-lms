I18n.scoped("content_exports",function(c){$(document).ready(function(){function h(){$("#exporter_form").html(c.t("messages.processing","Processing")+"<div style='font-size: 0.8em;'>"+c.t("messages.this_may_take_a_bit","this may take a bit...")+"</div>").attr("disabled",true);$(".instruction").hide();$(".progress_bar_holder").slideDown();$(".export_progress").progressbar();d="nothing";var b=0,e=function(){if(d=="nothing"){b++;var a=($(".export_progress").progressbar("option","value")||0)+0.25;b<10&&
$(".export_progress").progressbar("option","value",a);setTimeout(e,2E3)}else{d="nothing";b=0;setTimeout(e,1E4)}},g=function(){$.ajaxJSON(location.href+"/"+f,"GET",{},function(a){d="updating";a=a.content_export;var i=0;if(a){i=Math.max($(".export_progress").progressbar("option","value")||0,a.progress);$(".export_progress").progressbar("option","value",i)}if(a.workflow_state=="exported"){$("#exporter_form").hide();$(".export_progress").progressbar("option","value",100);$(".progress_message").html("The course has been exported.");
$("#exports").append("<p>"+c.t("labels.new_course_export","New Course Export:")+' <a href="'+a.download_url+'">'+c.t("links.download_plain","Click here to download")+"</a> </p>")}else if(a.workflow_state=="failed"){code="content_export_"+a.id;$(".progress_bar_holder").hide();$("#exporter_form").hide();a=c.t("errors.error",'There was an error exporting your course.  Please notify your system administrator and give them the following export identifier: "%{code}"',{code:code});$(".export_messages .error_message").html(a);
$(".export_messages").show()}else setTimeout(g,1500)},function(){setTimeout(g,3E3)})};setTimeout(g,2E3);setTimeout(e,1E3)}var d="nothing",f=null;$("#exporter_form").formSubmit({success:function(b){if(b&&b.content_export){f=b.content_export.id;h()}else{$(".export_messages .error_message").text(b.error_message);$(".export_messages").show()}},error:function(){$(this).find(".submit_button").attr("disabled",false).text(c.t("buttons.process","Process Data"))}});if($("#current_export_id").size()){f=$("#current_export_id").text();
h()}})});$.extend(true,I18n=I18n||{},{translations:{es:{content_exports:{buttons:{process:"Procesar Informaci\u00f3n"},messages:{this_may_take_a_bit:"esto puede tomar un poco de tiempo...",processing:"Procesando"},errors:{error:'Ocurri\u00f3 un error al exportar su curso. Por favor notifique al administrador de su sistema y proveale el siguiente identificador: "%{code}"'},links:{download_plain:"Haga click aqu\u00ed para descargar"},labels:{new_course_export:"Nueva Exportaci\u00f3n del Curso: "}}}}});
